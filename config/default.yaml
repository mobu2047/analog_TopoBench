version: 2
model:
  path: simulink/北京2电气仿真/Sub2_model_20210419.slx
sim:
  step: 1.0e-06
  stop_time: 0.1
  mode:
    start_in_accelerator: false
    external_mode: false
matlab:
  output_map:
    Scope: Scope
parameters:
  auto:
    file: auto_params.yaml
action_space:
- key: 'Asynchronous Machine SI Units1.VoltageRatio'
  dtype: float
  bounds:
    min: 0.0
    max: 10.0
- key: 'Asynchronous Machine SI Units1.LoadFlowParameters'
  dtype: float
  bounds:
    min: 0.0
    max: 2984000.0
metrics:
  evaluation_window: by_step
  definitions:
  - name: voltage_tracking
    expr: abs(V_out - V_ref)
    aggregator: mean
    goal: minimize
    weight: 0.5
  - name: waveform_thd
    expr: thd(V_out, fs=10000, f0=50)
    aggregator: last
    goal: minimize
    weight: 0.5
  constraints:
  - name: thd_limit
    expr: thd(V_out, fs=10000, f0=50) <= 0.05
  - name: saturation_guard
    expr: V_out <= 400
presets:
  init_action: {}
experiments:
  grid: false
  cases:
  - name: 'case_Asynchronous Machine SI Units1_VoltageRatio_base'
    action:
     'Asynchronous Machine SI Units1.VoltageRatio' : 1.0
     'Asynchronous Machine SI Units1.IterativeModel': Trapezoidal iterative
     'Asynchronous Machine SI Units2.IterativeModel': 'Trapezoidal iterative'
     'Asynchronous Machine SI Units3.IterativeModel': Trapezoidal non iterative
     'Asynchronous Machine SI Units4.IterativeModel': 'Trapezoidal non iterative'

  # - name: 'case_Asynchronous Machine SI Units1_VoltageRatio_x2'
  #   action:
  #     'Asynchronous Machine SI Units1.VoltageRatio' : 2.0
  #     'Asynchronous Machine SI Units1.IterativeModel': Trapezoidal
