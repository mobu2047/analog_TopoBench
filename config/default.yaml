version: 2
model:
  path: simulink/untitled3.slx
sim:
  step: 1.0e-06
  stop_time: 0.1
  mode:
    start_in_accelerator: true
    external_mode: false
matlab:
  output_map:
    tout: tout
    ScopeData: ScopeData
run:
  mode: agent
  agent:
    type: ollama
    host: http://localhost:11434
    model: qwen3-coder:480b-cloud
    max_iterations: 20
    timeout_s: 300
    early_stop_no_improve: 5
    request_timeout_s: 30
    prompt_template: ''
parameters:
  auto:
    file: auto_params.yaml
action_space:
- key: Series RLC Branch1.Resistance
  dtype: float
  bounds:
    min: 0.0
    max: 100.0
- key: Square Wave Generator.Frequency
  dtype: str
metrics:
  evaluation_window: by_step
  definitions:
  - name: voltage_tracking
    expr: abs(V_out - V_ref)
    aggregator: mean
    goal: minimize
    weight: 0.5
  - name: waveform_thd
    expr: thd(V_out, fs=10000, f0=50)
    aggregator: last
    goal: minimize
    weight: 0.5
  constraints:
  - name: thd_limit
    expr: thd(V_out, fs=10000, f0=50) <= 0.05
  - name: saturation_guard
    expr: V_out <= 400
presets:
  init_action: {}
experiments:
  cases:
  - name: case_R_100_freq_3pi
    action:
      Series RLC Branch1.Resistance: 100
      Square Wave Generator.Frequency: 3*pi
  - name: case_R_100_freq_2pi
    action:
      Series RLC Branch1.Resistance: 100
      Square Wave Generator.Frequency: 2*pi
