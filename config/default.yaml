version: 2
model:
  path: simulink/untitled3.slx
sim:
  step: 1.0e-06
  stop_time: 0.1
  mode:
    start_in_accelerator: true
    external_mode: false
matlab:
  output_map:
    tout: tout
parameters:
  auto:
    file: auto_params.yaml
action_space:
- name: Kp
  target: workspace
  path: Kp_val
  dtype: float
  bounds:
    min: 0.0
    max: 10.0
  apply: assign
  step_rate: per_step
- name: Ki
  target: workspace
  path: Ki_val
  dtype: float
  bounds:
    min: 0.0
    max: 100.0
  apply: assign
  step_rate: per_step
- name: L_load
  target: workspace
  path: L_load
  dtype: float
  bounds:
    min: 0.0001
    max: 0.01
  default: 0.001
  apply: assign
  step_rate: per_episode
- name: rep_t
  target: workspace
  path: rep_t
  dtype: array
  shape:
  - 3
  bounds:
    element_min: 0.0
    element_max: 0.01
  default:
  - 0
  - 5.0e-05
  - 0.0001
  apply: assign
  step_rate: per_episode
observation_space:
  signals:
  - key: tout
    from: workspace
    path: tout
    transforms:
    - last
metrics:
  evaluation_window: by_step
  definitions:
  - name: voltage_tracking
    expr: abs(V_out - V_ref)
    aggregator: mean
    goal: minimize
    weight: 0.5
  - name: waveform_thd
    expr: thd(V_out, fs=10000, f0=50)
    aggregator: last
    goal: minimize
    weight: 0.5
  constraints:
  - name: thd_limit
    expr: thd(V_out, fs=10000, f0=50) <= 0.05
  - name: saturation_guard
    expr: V_out <= 400
presets:
  init_action:
    L_load: 0.001
