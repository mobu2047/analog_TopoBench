version: 2
model:
  path: simulink/testgen.slx
sim:
  step: 1.0e-06
  stop_time: 0.1
  mode:
    start_in_accelerator: true
    external_mode: false
matlab:
  output_map:
    tout: tout
parameters:
  auto:
    file: auto_params.yaml
action_space:
- key: charging_circuit_filtering1.SystemSampleTime
  dtype: float
  bounds:
    min: 0.0
    max: 10.0
- key: charging_circuit_filtering1.Latency
  dtype: float
  bounds:
    min: 0.0
    max: 1.0
metrics:
  evaluation_window: by_step
  definitions:
  - name: voltage_tracking
    expr: abs(V_out - V_ref)
    aggregator: mean
    goal: minimize
    weight: 0.5
  - name: waveform_thd
    expr: thd(V_out, fs=10000, f0=50)
    aggregator: last
    goal: minimize
    weight: 0.5
  constraints:
  - name: thd_limit
    expr: thd(V_out, fs=10000, f0=50) <= 0.05
  - name: saturation_guard
    expr: V_out <= 400
presets:
  init_action: {}
experiments:
  grid: false
  cases:
  - name: case_charging_circuit_filtering1_SystemSampleTime_base
    action:
      charging_circuit_filtering1.SystemSampleTime: -1.0
  - name: case_charging_circuit_filtering1_SystemSampleTime_x2
    action:
      charging_circuit_filtering1.SystemSampleTime: -2.0
